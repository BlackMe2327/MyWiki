# 提供者和消费者

- 服务提供者：一次业务中，被其它微服务调用的服务。（提供接口给其它微服务）
- 服务消费者：一次业务中，调用其它微服务的服务。（调用其它微服务提供的接口）

# 服务调用关系

- 服务提供者：暴露接口给其它微服务调用
- 服务消费者：调用其它微服务提供的接口
- 提供者与消费者角色其实是**相对**的
- 一个服务可以同时是服务提供者和服务消费者

# Eureka的作用

**消费者该如何获取服务提供者具体信息？**

- 服务提供者启动时向eureka注册自己的信息
- eureka保存这些信息
- 消费者根据服务名称向eureka拉取提供者信息

**如果有多个服务提供者，消费者该如何选择？**

- 服务消费者利用负载均衡算法，从服务列表中挑选一个

**消费者如何感知服务提供者健康状态？**

- 服务提供者会每隔30秒向EurekaServer发送心跳请求，报告健康状态
- eureka会更新记录服务列表信息，心跳不正常会被剔除
- 消费者就可以拉取到最新的信息

# Eureka中微服务的两类角色

## Eureka服务端

- 记录服务信息
- 心跳监控

## Eureka客户端

### Provider(提供者)

- 注册自己的信息到EurekaServer
- 每隔30秒向EurekaServer发送心跳

### Consumer(消费者)

- 根据服务名称从EurekaServer拉取服务列表
- 基于服务列表做负载均衡，选中一个微服务后发起远程调用